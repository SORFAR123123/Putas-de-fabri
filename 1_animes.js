// ================================================
// BASE DE DATOS DE ANIMES CON VIDEOS ESPAÃ‘OL/JAPONÃ‰S
// ================================================

const animesDatabase = {
    // ================================================
    // CONTENEDOR 1
    // ================================================
    
    // Sub-contenedor 1.1
    '1_1': {
        titulo: "ðŸŽŒ Shingeki no Kyojin (Ataque a los Titanes)",
        driveIdEsp: "1X6qhQxLNemXus_5WjLlMIWOAsHsJSsRS", // REEMPLAZA con ID real
        driveIdJap: "1X6qhQxLNemXus_5WjLlMIWOAsHsJSsRS", // REEMPLAZA con ID real
        descripcion: "Primer episodio doblado al espaÃ±ol y japonÃ©s original con subtÃ­tulos.",
        timestampsEsp: [
            { tiempo: 0, titulo: "ðŸ“– IntroducciÃ³n" },
            { tiempo: 120, titulo: "ðŸ—¡ï¸ PresentaciÃ³n de Eren" },
            { tiempo: 240, titulo: "ðŸ§± Aparece el TitÃ¡n Colosal" },
            { tiempo: 360, titulo: "ðŸƒâ€â™‚ï¸ Escape desesperado" },
            { tiempo: 480, titulo: "ðŸ˜¢ Escena emocional" }
        ],
        timestampsJap: [
            { tiempo: 0, titulo: "ðŸ“– ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³" },
            { tiempo: 120, titulo: "ðŸ—¡ï¸ ã‚¨ãƒ¬ãƒ³ã®ç´¹ä»‹" },
            { tiempo: 240, titulo: "ðŸ§± è¶…å¤§åž‹å·¨äººç™»å ´" },
            { tiempo: 360, titulo: "ðŸƒâ€â™‚ï¸ å¿…æ­»ã®è„±å‡º" },
            { tiempo: 480, titulo: "ðŸ˜¢ æ„Ÿå‹•çš„ãªã‚·ãƒ¼ãƒ³" }
        ],
        duracion: "24:30",
        categoria: "AcciÃ³n",
        aÃ±o: 2013
    },
    
    // Sub-contenedor 1.2
    '1_2': {
        titulo: "ðŸ¡ Kimetsu no Yaiba (Guardianes de la Noche)",
        driveIdEsp: "1X6qhQxLNemXus_5WjLlMIWOAsHsJSsRS", // REEMPLAZA con ID real
        driveIdJap: "1X6qhQxLNemXus_5WjLlMIWOAsHsJSsRS", // REEMPLAZA con ID real
        descripcion: "Episodio 1: Tanjiro encuentra a su familia atacada por demonios.",
        timestampsEsp: [
            { tiempo: 0, titulo: "ðŸ”ï¸ Vida en las montaÃ±as" },
            { tiempo: 180, titulo: "ðŸ˜­ Tragedia familiar" },
            { tiempo: 360, titulo: "ðŸ‘¹ Encuentro con Nezuko" },
            { tiempo: 540, titulo: "ðŸ—¡ï¸ Conoce a Giyu" },
            { tiempo: 720, titulo: "ðŸŽ¯ DecisiÃ³n de entrenar" }
        ],
        timestampsJap: [
            { tiempo: 0, titulo: "ðŸ”ï¸ å±±ã§ã®ç”Ÿæ´»" },
            { tiempo: 180, titulo: "ðŸ˜­ å®¶æ—ã®æ‚²åŠ‡" },
            { tiempo: 360, titulo: "ðŸ‘¹ ç¦°è±†å­ã¨ã®å‡ºä¼šã„" },
            { tiempo: 540, titulo: "ðŸ—¡ï¸ ç¾©å‹‡ã¨ã®å‡ºä¼šã„" },
            { tiempo: 720, titulo: "ðŸŽ¯ è¨“ç·´ã®æ±ºæ„" }
        ],
        duracion: "23:45",
        categoria: "Fantasia",
        aÃ±o: 2019
    },
    
    // Sub-contenedor 1.3
    '1_3': {
        titulo: "ðŸ‰ Dragon Ball Super - Torneo del Poder",
        driveIdEsp: "1X6qhQxLNemXus_5WjLlMIWOAsHsJSsRS", // REEMPLAZA con ID real
        driveIdJap: "1X6qhQxLNemXus_5WjLlMIWOAsHsJSsRS", // REEMPLAZA con ID real
        descripcion: "Pelea Ã©pica entre Goku y Jiren en el Torneo del Poder.",
        timestampsEsp: [
            { tiempo: 0, titulo: "âš¡ Inicio de la pelea" },
            { tiempo: 150, titulo: "ðŸ’¥ TransformaciÃ³n Ultra Instinto" },
            { tiempo: 300, titulo: "ðŸ”¥ Poder mÃ¡ximo de Jiren" },
            { tiempo: 450, titulo: "ðŸ‘Š Combate cuerpo a cuerpo" },
            { tiempo: 600, titulo: "ðŸŒŸ Final Ã©pico" }
        ],
        timestampsJap: [
            { tiempo: 0, titulo: "âš¡ æˆ¦ã„ã®é–‹å§‹" },
            { tiempo: 150, titulo: "ðŸ’¥ èº«å‹æ‰‹ã®æ¥µæ„ç™ºå‹•" },
            { tiempo: 300, titulo: "ðŸ”¥ ã‚¸ãƒ¬ãƒ³ã®æœ€å¤§ãƒ‘ãƒ¯ãƒ¼" },
            { tiempo: 450, titulo: "ðŸ‘Š æŽ¥è¿‘æˆ¦" },
            { tiempo: 600, titulo: "ðŸŒŸ ã‚¨ãƒ”ãƒƒã‚¯ãªçµ‚äº†" }
        ],
        duracion: "21:15",
        categoria: "AcciÃ³n",
        aÃ±o: 2017
    },
    
    // ================================================
    // CONTENEDOR 2
    // ================================================
    
    // Sub-contenedor 2.1
    '2_1': {
        titulo: "ðŸŽ“ Haikyuu!! - Primer Partido",
        driveIdEsp: "1X6qhQxLNemXus_5WjLlMIWOAsHsJSsRS", // REEMPLAZA con ID real
        driveIdJap: "1X6qhQxLNemXus_5WjLlMIWOAsHsJSsRS", // REEMPLAZA con ID real
        descripcion: "Primer partido oficial del equipo de Karasuno contra Date Tech.",
        timestampsEsp: [
            { tiempo: 0, titulo: "ðŸ Calentamiento previo" },
            { tiempo: 120, titulo: "ðŸ¦… Salto de Hinata" },
            { tiempo: 240, titulo: "ðŸ§± Bloqueo de Date Tech" },
            { tiempo: 360, titulo: "ðŸ‘‘ Kageyama como setter" },
            { tiempo: 480, titulo: "ðŸŽ¯ Remate decisivo" }
        ],
        timestampsJap: [
            { tiempo: 0, titulo: "ðŸ è©¦åˆå‰ã®ã‚¦ã‚©ãƒ¼ãƒŸãƒ³ã‚°ã‚¢ãƒƒãƒ—" },
            { tiempo: 120, titulo: "ðŸ¦… æ—¥ã®å‡ºã®ã‚¸ãƒ£ãƒ³ãƒ—" },
            { tiempo: 240, titulo: "ðŸ§± ä¼Šé”å·¥æ¥­ã®ãƒ–ãƒ­ãƒƒã‚¯" },
            { tiempo: 360, titulo: "ðŸ‘‘ å½±å±±ã®ã‚»ãƒƒã‚¿ãƒ¼" },
            { tiempo: 480, titulo: "ðŸŽ¯ æ±ºå®šçš„ãªã‚¹ãƒ‘ã‚¤ã‚¯" }
        ],
        duracion: "22:40",
        categoria: "Deportes",
        aÃ±o: 2014
    },
    
    // Sub-contenedor 2.2
    '2_2': {
        titulo: "ðŸ” Death Note - Primer Encuentro",
        driveIdEsp: "1X6qhQxLNemXus_5WjLlMIWOAsHsJSsRS", // REEMPLAZA con ID real
        driveIdJap: "1X6qhQxLNemXus_5WjLlMIWOAsHsJSsRS", // REEMPLAZA con ID real
        descripcion: "Light Yagami encuentra el Death Note y conoce a Ryuk.",
        timestampsEsp: [
            { tiempo: 0, titulo: "ðŸ“” Encuentro con el cuaderno" },
            { tiempo: 180, titulo: "ðŸ‘» Ryuk aparece" },
            { tiempo: 360, titulo: "âš–ï¸ Primera prueba" },
            { tiempo: 540, titulo: "ðŸŽ¯ DecisiÃ³n de usarlo" },
            { tiempo: 720, titulo: "ðŸ•µï¸ Primer crimen" }
        ],
        timestampsJap: [
            { tiempo: 0, titulo: "ðŸ“” ãƒŽãƒ¼ãƒˆã¨ã®å‡ºä¼šã„" },
            { tiempo: 180, titulo: "ðŸ‘» ãƒªãƒ¥ãƒ¼ã‚¯ç™»å ´" },
            { tiempo: 360, titulo: "âš–ï¸ æœ€åˆã®ãƒ†ã‚¹ãƒˆ" },
            { tiempo: 540, titulo: "ðŸŽ¯ ä½¿ç”¨ã®æ±ºæ„" },
            { tiempo: 720, titulo: "ðŸ•µï¸ æœ€åˆã®çŠ¯ç½ª" }
        ],
        duracion: "23:20",
        categoria: "Misterio",
        aÃ±o: 2006
    }
};

// ================================================
// FUNCIONES DE ACCESO PARA ANIMES
// ================================================

function obtenerAnime(contenedor, subcontenedor) {
    const key = `${contenedor}_${subcontenedor}`;
    return animesDatabase[key] || null;
}

function obtenerTodosAnimes() {
    return animesDatabase;
}

function existeAnime(contenedor, subcontenedor) {
    const key = `${contenedor}_${subcontenedor}`;
    return animesDatabase[key] && (animesDatabase[key].driveIdEsp !== "" || animesDatabase[key].driveIdJap !== "");
}

function obtenerContenedoresAnimesDisponibles() {
    const contenedores = {};
    
    Object.keys(animesDatabase).forEach(key => {
        const [contenedor, subcontenedor] = key.split('_');
        if (!contenedores[contenedor]) {
            contenedores[contenedor] = [];
        }
        if (animesDatabase[key].driveIdEsp !== "" || animesDatabase[key].driveIdJap !== "") {
            contenedores[contenedor].push(subcontenedor);
        }
    });
    
    return contenedores;
}

function obtenerTimestampsPorIdioma(anime, idioma) {
    if (idioma === 'japones') {
        return anime.timestampsJap || anime.timestampsEsp || [];
    }
    return anime.timestampsEsp || [];
}

function obtenerDriveIdPorIdioma(anime, idioma) {
    if (idioma === 'japones') {
        return anime.driveIdJap || anime.driveIdEsp;
    }
    return anime.driveIdEsp;
}
